---
prev: false
next:
    link: ../02
    text: 2. SQL (DML)
---

**Лабораторная работа 1**

# ER-диаграмма

## Варианты

::: warning ВАЖНО
При разработке ER-диаграммы в данной лабораторной работы требуется использование нотации IDEF1X.
:::

### Вариант 1. Ресторан

Разработать информационную систему, облегчающую работу типового ресторана. Ресторан имеет штат высококвалифицированных официантов и поваров (стаж работы в системе обслуживания питания не менее 5 лет), а также договоры с поставщиками на поставку определённых ингредиентов для приготовления блюд.

На каждый день составляется меню, включающее разделение блюд по категориям и стоимость одной порции. Официант обслуживает заказы клиентов в соответствии с представленным меню. В течение смены официант ведёт запись заказов, присваивая им уникальные номера и начиная новый отсчёт с началом новой смены. При этом допускается, что для одного столика могут выполняться разные заказы.

Кроме обычных столиков (на 2, 4 и 6 человек) в ресторане имеются банкетные столы и банкетные залы, которые могут обслуживать группы официантов (из расчёта 1 официант на 6 клиентов). 

Поставка одних и тех же продуктов может осуществляться различными поставщиками (определяющим обстоятельством при этом является закупочная цена). При закупках необходимо учитывать минимальный запас данного продукта на складе. 

За качество закупленных продуктов и приготовленных из них блюд соответствующие сотрудники (снабженец, повар и т.д.) несут личную ответственность. Поэтому система должна содержать все необходимые сведения для выяснения возможных конфликтов с клиентами.

**Система должна эффективно выдавать ответы на следующие запросы:**

1. Кто из официантов обслуживал конкретного клиента в определённое время.
2. Кто из поваров готовил блюдо, по которому поступила жалоба.
3. Перечислить заказы, общая сумма которых превышает  .....  руб.
4. Перечислить блюда, для которых запас имеющихся на складе продуктов с единицей измерения  .....  меньше ..... .

**Содержание отчёта:**

1. Текст задания.
2. Допущения.
3. Разработанная ER-модель (в любом графическом редакторе, например в Visio).
4. Описание характеристик сущностей, связей и атрибутов.
5. Соответствующие ограничения целостности.



### Вариант 2. Нагрузка кафедры

В терминах ER-модели описать предметную область будущей автоматизированной информационной системы, поддерживающую процесс распределения нагрузки на типовой кафедре вуза. 

Сотрудниками кафедры являются преподаватели, имеющие учебную нагрузку,которая выражается в определённом объёме учебных часов при ведении так называемых аудиторных занятий (лекции, практические занятия, лабораторные) по определённым дисциплинам. 

Кроме того, преподаватели осуществляют руководство студентами и аспирантами при выполнении ими индивидуальных работ (курсовых и дипломных проектов, диссертационных работ и др.).

Преподаватели кафедры, как правило, работают со студентами различных специальностей, что отражается в наборе дисциплин, их объёме и содержании.

Преподаватели могут также выполнять некоторые общественные поручения, за которые им снимается учебная нагрузка.

Следует заметить, что преподаватели кафедры могут иметь различную уровень квалификации (к.т.н., д.т.н.) и должность (ассистент, преподаватель, ст. преподаватель, доцент, профессор и др.), и, взависимости, от этого они, как правило, ведут различные виды занятий.

Кафедра может привлекать к учебной работе специалистов других вузов и предприятий.

**Система должна эффективно выдавать ответы на следующие запросы:**
1. Сформировать список преподавателей, ведущих определённый вид занятий.
2. Сформировать список преподавателей, с которых снята нагрузка. 
3. Сформировать список студентов и аспирантов, которыми руководит определённый преподаватель в текущем учебном году.
4. Сформировать список профессоров, привлечённых из других вузов, возраст которых не превышает ... 

**Содержание отчёта:**
1. Текст задания.
2. Допущения.
3. Разработанная ER-модель (в любом графическом редакторе, например в Visio).
4. Описание характеристик сущностей, связей и атрибутов.
5. Соответствующие ограничения целостности.



### Вариант 3. Склад магазина

В терминах ER-модели описать предметную область будущей автоматизированной информационной системы, поддерживающую учёт движения товаров в системе торговли. 

Магазин принимает товар с оптового склада по приёмочной ведомости, вкоторой указывается ответственный за приём товара, оптовая цена, объём партии, дата и другая необходимая информация.

Магазин взаимодействует с несколькими складами и может закупать один итот же товар на разных складах. 

Со временем и в зависимости от спроса или других условий товар подлежит переоценке, которая подтверждается актом переоценки. Приэтом старая цена товара должна сохраняться, чтобы иметь возможность дальнейшего анализа накопленных данных. 

Магазин взаимодействует со своими филиалами при обслуживании клиента. Т.е. при отсутствии некоторого товара в магазине возможно произвести его заказ в филиале.

Следует также учесть возможность конфликтов при и иметь в системе необходимую информацию (например, возврат брака). 

**Система должна эффективно выдавать ответы на следующие запросы:**
1. Сформировать список товаров, поставляемых определённой фирмой.
2. Сформировать список товаров, которые подвергались переоценке за определённый период. 
3. Сформировать список фирм, товары которых были возвращены за определённый период.
4. Сформировать список складов, поставляющих товары определённой фирмы. 

**Содержание отчёта:**
1. Текст задания.
2. Допущения.
3. Разработанная ER-модель.
4. Описание характеристик сущностей, связей и атрибутов.
5. Соответствующие ограничения целостности.


### Вариант 4. Фирма – сборщик

В терминах ER-модели описать деятельность некоторой посреднической фирмы, которая закупает компоненты у поставщиков, складирует их и затем продаёт клиентам. 

Компоненты, имеющие одинаковые названия и фирму-изготовителя, могут поставляться различными поставщиками. При этом фирме необходимо учитывать текущее количество компонентов каждого наименования и их минимальный запас.

При поставке принимается во внимание такая информация, как дата поставки, сумма задолженности конкретному поставщику, объём поставки, оптовая (закупочная) цена и др.

Следует отметить, что фирма, кроме продажи комплектующих, занимается также сборкой из них некоторых изделий и их дальнейшей реализацией.

Готовые изделия могут быть куплены непосредственно на фирме или заказаны через торгового агента, необходимые сведения о котором должны присутствовать в будущей системе. Такой информацией может быть, например, e-mail, номер пейджера, номер телефона и др. 

Клиентами фирмы являются организации в лице своего представителя. Цена на готовые изделия и комплектующие колеблется в зависимости от партии. 

**Система должна эффективно выдавать ответы на следующие запросы:**
1. Сформировать список изделий, срок сборки которых превышает определённое количество дней.
2. Сформировать список поставщиков, которые поставляют компоненты определённой фирмы.
3. Сформировать список торговых агентов, телефон которых относится к определённой АТС.
4. Сформировать список клиентов, которые покупали компоненты или готовые изделия за определённый период времени.

**Содержание отчёта:**
1. Текст задания.
2. Допущения.
3. Разработанная ER-модель.
4. Описание характеристик сущностей, связей и атрибутов.
5. Соответствующие ограничения целостности.



### Вариант 5. Музыкальный магазин

В терминах ER-модели описать фонотеку музыкального магазина.

В магазине имеются разножанровые альбомы, представленные в виде CD-дисков, аудио-кассет, граммпластинок и т.д. При этом интересной для клиентов считается информация о названии, издателе, стоимости альбомов, а также необходимые сведения о содержащихся в них песнях.

Следует также учесть, что исполнители могут выпускать как сольные, так и групповые альбомы. В наличии имеются также альбомы, составленные из песен разных исполнителей, и, соответственно представляет интерес информация, в каком именно месте альбома (номер песни или дорожки) находится песня интересующего исполнителя.

Кроме того, считается возможным, что участник какой-либо музыкальной группы может сам выпустить сольный альбом. 

Состав групп может изменяться со временем, но необходимо предусмотреть возможность получения информации о прежнем составе группы. 

В будущей информационной системе должны присутствовать некоторые интересующие поклонников сведения о самих группах и исполнителях.

**Система должна эффективно выдавать ответы на следующие запросы:**
1. Сформировать список альбомов, относящихся к определённому жанру иопре-делённого времени звучания.
2. Сформировать список групп, в которые входил определённый исполнитель.
3. Сформировать список исполнителей, специализирующихся в определённом жанре.
4. Сформировать список песен определённого автора.

**Содержание отчёта:**
1. Текст задания.
2. Допущения.
3. Разработанная ER-модель.
4. Описание характеристик сущностей, связей и атрибутов.
5. Соответствующие ограничения целостности.


### Вариант 6. Аэропорт

В терминах ER-модели описать в общих чертах деятельность аэропорта.
Сотрудниками аэропорта представлены лётным составом, диспетчерами, техническим персоналом и др.

Технический персонал, объёдиняясь в смены, готовит самолёт  и соответствующую взлётную полосу для вылета. Аэропорт располагает, как правило, несколькими типами взлётных полос, предназначенных для соответствующих самолётов. При этом учитываются такие данные, как категория полосы, её длина и т.д.

Экипаж самолёта формируется из сотрудников лётного состава (пилоты,штурманы, бортинженеры, стюардессы и др.), из их же числа назначается командир экипажа. Экипаж со временем может быть разукомплектован или переведён на другой самолёт.

Рейс обслуживается различными самолётами, а самолёты, в общем случае,могут со временем «перебрасываться» на другие рейсы. Информация должна отражать не только текущее состояние, но и предысторию.

**Система должна эффективно выдавать ответы на следующие запросы:**
1. Сформировать список взлётных полос, предназначенных для самолётов определённого типа.
2. Сформировать список самолётов, совершавших рейсы на определённую дату.
3. Сформировать список самолётов, имеющих неисправности (технически не готовы).
4. Сформировать список технического персонала, имеющих высшее образование и определённый стаж.

**Содержание отчёта:**
1. Текст задания.
2. Допущения.
3. Разработанная ER-модель.
4. Описание характеристик сущностей, связей и атрибутов.
5. Соответствующие ограничения целостности.




### Вариант 7. Университет

В терминах ER-модели описать учёт студентов в крупном университете.

В университете имеется постоянный контингент студентов, обучающихся на различных специальностях. Фундаментальные и выпускающие кафедры объединены в соответствующие факультеты.

Каждый студент изучает в среднем около шести дисциплин за семестр. Каждый преподаватель университета может вести несколько дисциплин для студентов различных специальностей. 

При этом ведётся учёт успеваемости студентов, а также их отчисление по итогам сессии. Формами контроля знаний являются экзамены и зачёты (с оценкой и без неё). Разрешается одна пересдача задолженности в сессию и одна после её окончания. Дальнейшая ликвидация задолженностей происходит на платной основе.

В ходе учёбы студенты могут переходить в другие группы, а также менять специальности. Кроме того, имеется возможность академического отпуска с дальнейшим восстановлением, а также перевод из другого вуза.

**Система должна эффективно выдавать ответы на следующие запросы:**
1. Сформировать список студентов допущенных к экзаменам.
2. Сформировать список экзаменов для каждой группы.
3. Сформировать список дисциплин, которые вел преподаватель у специальности (потока) на протяжении всего периода обучения.
4. Сформировать список студентов, сдававших платные экзамены.

**Содержание отчёта:**
1. Текст задания.
2. Допущения.
3. Разработанная ER-модель.
4. Описание характеристик сущностей, связей и атрибутов.
5. Соответствующие ограничения целостности.



### Вариант 8. Научно-исследовательский сектор

В терминах ER-модели описать планирование работы в научно-исследовательском секторе. 

Сектор разрабатывает проекты по двум направлениям — агрегаты бесперебойного питания и приводные преобразователи частоты, причём каждое из направлений может быть представлено одновременно несколькими различными проектами, которые различаются по области применения (для атомных электростанций, железных дорог, обогатительных комбинатов и пр.) и по техническим параметрам (мощности, токи, напряжения, частоты и пр). 

Как правило, каждый из проектов делится на стадии (разработка технического задания, подготовка технического предложения, эскизное проектирование, техническое проектирование и пр.). Каждой стадии соответствуют свои этапы: например, разработка технического задания включает анализ технических требований, подготовку проекта технического задания, его согласование и утверждение. В свою очередь, каждый из этапов состоит из определённых операций: например, анализ технических требований включает ознакомление с требованиями заказчика, изучение аналогичных требований к прототипу, анализ техничекой информации об аналогах  и т.д.

Планирование работы сектора заключается во временном упорядочении выполнения проектов, их стадий, этапов и операций сотрудниками сектора.

Сотрудники сектора объединены в группы по функциональному признаку (расчёт, моделирование, разработка, конструирование и пр.). В каждой из групп имеются сотрудники различного уровня квалификации (главный специалист, ведущий сотрудник, инженер и т.д.) и подготовки (специалисты узкого и широкого профиля).  

**Система должна эффективно выдавать ответы на следующие запросы:**
1. Сроки выполнения каждого из проектов в целом, а также его стадий, этапов и операций.
2. Распределение этапов среди групп.
3. Распределение операций среди сотрудников.

**Содержание отчёта:**
1. Текст задания.
2. Допущения.
3. Разработанная ER-модель.
4. Описание характеристик сущностей, связей и атрибутов.
5. Соответствующие ограничения целостности.



### Вариант 9. Клиника

В терминах ER-модели описать предметную область системы автоматизации записи на прием к врачу пациентов мед. учреждения. 

На каждого пациента заведена медицинская карта с уникальным номером. Запись на прием осуществляется по телефону. Пациент называет номер карты и специальность врача. Оператор предлагает несколько вариантов, исходя из расписания работы врачей-специалистов нужного профиля. Может быть несколько врачей одного профиля. Выбранный пациентом вариант запоминается системой. На прием одного пациента выделяется фиксированное время (20 минут, например). Мед. карты по кабинетам разносит медсестра из регистратуры. Врач ставит отметку о приеме пациента.

**Система должна эффективно выдавать ответы на следующие запросы:**
1. Ведомость регистратуры для разноса мед. карт по кабинетам на день.
2. Расписание работы врачей.
3. Ведомость приема врача за месяц (сколько когда врач принял пациентов и кого конкретно).
4. Кто чаще всего ходит по врачам.

**Содержание отчёта:**

1. Текст задания.
2. Допущения.
3. Разработанная ER-модель.
4. Описание характеристик сущностей, связей и атрибутов.
5. Соответствующие ограничения целостности.



### Вариант 10. Авиакомпания

В терминах ER-модели описать предметную область системы автоматизации деятельности авиакомпании.

Компании принадлежат пассажирские самолеты различных моделей. Каждая модель самолета принадлежит к определенному классу. Модель характеризуется составом экипажа, числом пассажиров, стоимостью эксплуатации. Класс самолета характеризуется дальностью перелета, длинной ВПП. Компания выполняет рейсы по определенному расписанию. Сведения о количестве проданных билетов поступают в компанию из системы продажи билетов. Стоимость рейса складывается из стоимости летных часов (амортизация + топливо) + стоимость обслуживания в аэропорту прибытия для самолета этого класса. Стоимость простоя = стоимость стоянки на аэродроме. Зарплата экипажу выплачивается независимо от того, летает самолет или стоит. Прибыль от рейса = выручке от продажи билетов. Для каждого аэродрома цены на обслуживание и стоянку могут различаться.

Система должна эффективно выдавать ответы на следующие запросы:
	
1.	Посчитать рентабельность рейсов (доход - расход)/расход
2.	Посчитать налет самолетов (за месяц например)
3.	Посчитать “заполняемость” рейса в % за месяц.
4.	Посчитать стоимость простоя самолетов.

Содержание отчёта:
1. Текст задания.
2. Допущения.
3. Разработанная ER-модель.
4. Описание характеристик сущностей, связей и атрибутов.
5. Соответствующие ограничения целостности.



### Вариант 11. Приемная комиссия

В терминах ER-модели описать предметную область системы автоматизации деятельности приемной комиссии ВУЗа.

Приемная комиссия получает разнарядку на прием определенного количества студентов на каждую специальность. Для каждой специальности свои экзамены. Приемная комиссия принимает документы от абитуриентов на определенную специальность. Абитуриент с золотой медалью имеет преимущество и должен сдавать только один экзамен на выбор. Результаты экзаменов заносятся в систему. Абитуриенты, не сдавшие один из экзаменов, отсеиваются. Вычисляется проходной балл таким образом, чтобы число принятых не больше числа мест. Оставшиеся места разыгрываются случайным порядком среди абитуриентов с наибольшим баллом из тех, которые не прошли.

Система хранит сведения за несколько лет.

**Система должна эффективно выдавать ответы на следующие запросы:**
1. Конкурс по специальностям (чел./место).
2. Список принятых по специальностям.
3. Проходной балл по специальностям.
4. Список отсеявшихся после каждого экзамена.

**Содержание отчёта:**
1. Текст задания.
2. Допущения.
3. Разработанная ER-модель.
4. Описание характеристик сущностей, связей и атрибутов.
5. Соответствующие ограничения целостности.



### Вариант 12. Компьютеры организации

В терминах ER-модели описать предметную область системы учета компьютеров организации.

Организация состоит из подразделений. Подразделение может состоять из подчиненных подразделений. В каждом подразделении могут эксплуатироваться компьютеры. Компьютеры стоят в комнатах. Комнаты пронумерованы. Система должна содержать информацию о:
* конфигурации компьютеров;
* поставщике, дате покупки, гарантийных обязательствах;
* поставщике, дате покупке, лицензировании программного обеспечения;
* какое ПО где установлено;
* какие неисправности появлялись в процессе эксплуатации.

Система должна содержать информацию о локальных сетях в пределах организации. Отдельно должны быть выделены задачи, эксплуатируемые на серверах (локальных сетей).

**Система должна эффективно выдавать ответы на следующие запросы:**
1. Список компьютеров, установленных в организации.
2. Фирма – поставщик с наибольшим количеством поломок.
3. Превышение числа установок программного обеспечения над числом лицензий.
4. Список серверов с программным обеспечением для каждого сервера.
5. Список оборудования определенной модели (например принтер HPLJ6L) с расстановкой по комнатам.

**Содержание отчёта:**

1. Текст задания.
2. Допущения.
3. Разработанная ER-модель.
4. Описание характеристик сущностей, связей и атрибутов.
5. Соответствующие ограничения целостности.



### Вариант 13. Зарплата

В терминах ER-модели описать предметную область системы расчета заработной платы организации.

Организация платит сотрудникам зарплату в соответствии с штатным расписанием (должность : сумма). Кроме своих основных обязанностей (Начальник, Исполнитель, Экспедитор) сотрудник может привлекать клиентов. Сотруднику платится процент со сделки (5% прибыли например). Зарплата облагается налогами, число и ставки которых легко меняются со временем. Система хранит информацию о клиентах фирмы.

Система должна эффективно выдавать ответы на следующие запросы:

1.	Рассчитать сумму на руки для всех сотрудников за месяц.
2.	Рассчитать годовой доход сотрудников.
3.	Сумма сделок с определенным клиентом.
4.	Сколько прибыли принес сотрудник за год.

**Содержание отчёта:**
1. Текст задания.
2. Допущения.
3. Разработанная ER-модель.
4. Описание характеристик сущностей, связей и атрибутов.
5. Соответствующие ограничения целостности.


### Вариант 14. Библиотека

В терминах ER-модели описать предметную область системы учета книжного фонда библиотеки.

Библиотека  состоит из нескольких филиалов. Читатели могут быть зарегистрированы в нескольких филиалах. В библиотеке ведутся подробные сведения о каждом книжном экземпляре. Книги выдаются читателям на определенный срок. Система должна содержать информацию о:
* месте постоянного хранения книг (адрес, номер комнаты, координата стеллажа);
* читателе (номер читательского билета, паспортные данные читателя, даты записи и выписки в/из библиотеки);
* формуляре (запись о книге и датах выдачи и возврате);
* тематический и алфавитный каталог книг;
* сведения о каждом экземпляре книги (состоянии качества).

**Система должна эффективно выдавать ответы на следующие запросы:**
1. Найти книги по заданному критерию (Названию, автору, году издания, ключевым словам).
2. Объем номинального и фактического наличия книг по филиалам библиотеки.
3. Список читателей, задерживающих возврат книг более чем на заданное число дней.
4. Список книг, находящихся на руках у заданного читателя.
5. Список категорий читателей по профессиям, возрасту и полу.
6. Регистрацию нового читателя и выписку читателя из библиотеки.
7. Поступление новых книг и списание книг в плохом состоянии.
8. Выдачу и возврат книг читателю.

**Содержание отчёта:**
1. Текст задания.
2. Допущения.
3. Разработанная ER-модель.
4. Описание характеристик сущностей, связей и атрибутов.
5. Соответствующие ограничения целостности.


### Вариант 15. Театр

В терминах ER-модели описать предметную область системы бронирования билетов на спектакли некоторого театра.

Театр имеет несколько сценических площадок и вместимостью зрительного зала. В репертуар театра входит ограниченное количество пьес разных авторов. В каждой пьесе имеется ограниченное количество ролей, в которых заняты не только актеры своей труппы. Спектакли ставятся режиссерами. Дата и время представления спектаклей указывается в афише на текущий и следующий месяцы. Часть билетов с указанием мест поступают кассиру для последующего бронирования в последних числах текущего месяца. Зритель может заказать билеты с условием выкупа их не позднее, чем за 1 день. Если он их не выкупает, они поступают в свободную продажу. 

**Система должна содержать информацию о:**
* всех сценах театра (адрес, их вместимость);
* репертуаре театра (названия пьесы, автор, режиссер);
* программа спектакля (роли и занятые актеры);
* афиша (место и время начала спектакля);
* билеты с указанием номера места, даты и стоимости;
* заказы билетов.

**Система должна эффективно выдавать ответы на следующие запросы:**
1. Найти все пьесы, в которых занят заданный актер.
2. Выдать афишу театра за заданный период.
3. Можно ли забронировать билеты на определенный спектакль.
4. Список стоимости билетов на указанный спектакль
5. Программу спектакля
6. Регистрация нового поступления билетов для бронирования.
7. Ежедневное снятие с брони не выкупленных билетов
8. Регистрация заказа на бронирование.
9. Продажа заказанного билета.

**Содержание отчёта:**
1. Текст задания.
2. Допущения.
3. Разработанная ER-модель.
4. Описание характеристик сущностей, связей и атрибутов.
5. Соответствующие ограничения целостности.

## Методические указания

## Защита

Ниже приведены вопросы, которые задавались во время защиты лабораторной работы.

::: details Какие типы связей существуют? В чём их отличие друг от друга?
Всего существует два типа связи – идентифицирующая и неидентифицирующая.

При **идентифицирующей связи** внешний ключ родительской сущности становится частью первичного ключа дочерней сущности. Это означает, что дочерняя сущность не может существовать без родительской (зависит от неё). На диаграмме такая связь обозначается сплошной линией.

**Неидентифицирующая связь** подразумевает, что первичный ключ дочерней сущности не зависит от родительской сущности. В этом случае дочерняя сущность может существовать независимо от родительской. На диаграмме такая связь обозначается пунктирной линией.
:::

::: details К какой нормальной форме приведена модель? Почему?
Данная модель приведена к третьей нормальной форме (3НФ).
:::

::: details Приведите пример отношения «многие ко многим».
В качестве примера можно привести сущности из выполненной лабораторной работы, между которыми установлена связь «многие ко многим».
:::

::: details Как может выглядить первичный ключ?
В первичном ключе могут находиться идентификаторы.
:::