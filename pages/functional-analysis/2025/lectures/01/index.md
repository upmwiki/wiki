---
prev: false
next: false
---

**Лекция**

# Множества и отношения

## Множества. Основные понятия

**Теория множеств** — это раздел математики, изучающий множества, которые можно неформально описать как коллекции объектов.

Теория множеств используется в качестве основопологающей системы для всей математики.

![](/media/images/funcanalysis_1_8.png)

Современное изучение теории множеств было инициировано немецкими математиками Рихардом Дедекиндом и Георгом Кантором в 1870-х годах. В частности, Георг Кантор обычно считается основателем теории множеств.

*Неформализованные системы*, исследованные на раннем этапе, называются **наивной теорией множеств**.

После открытия *парадоксов* в наивной теории множеств (таких как парадокс Рассела, парадокс Кантора) в начале двадцатого века были предложены *различные аксиоматические системы*, из которых **теория множеств Цермело-Френкеля ZFC** (с аксиомой выбора или без неё) остаётся самой известной и наиболее изученной.

::: info Пример (парадокс Рассела)
Парадокс Рассела, демонстрирующий противоречивость наивной теории множеств.

К противоречию приводит предположение о том, что *для всякого условия $P(x)$ существует множество, состоящее из тех $x$, которые удовлетворяют $P(x)$.*

* Пусть $R$ — множество всех множеств, которые не являются элементами самих себя:
  $$
  R = \set{x : x \notin x}.
  $$
* Если $R \notin R$, то оно удовлетворяет условию $x \notin x$, то есть оно должно попасть в список $\set{x : x \notin x}$, то есть $R \in R$.
* Если $R \in R$, то оно должно по определению $R$ удовлетворять условию $\set{x : x \notin x}$, то есть $R \notin R$.

Противоречие.

Единственный вывод, который отсюда вытекает, это то, что $R = \set{x : x \notin x}$ — это вообще не множество.
:::

То есть хотя мы формально записали всё как обычно: фигурные скобки, условие..., полученный объект множеством не является. Хотя и содержит огромное (бесконечное) количество элементов.

Современная теория множеств *не предполагает*, что *для каждого свойства существует множество всех объектов, удовлетворяющих этому свойству*.

Накладываются *строгие ограничения на вид условия* $\set{x | P}$, с помощью которого можно образовывать множества.

::: info Пример (парадокс Берри)
> Пусть $N$ — это *наименьшее натуральное число, которое нельзя описать менее чем одиннадцатью словами.*

Но мы только что описали число $N$ десятью словами (?!)

Ответственность за это несёт туманная фраза *«нельзя описать»*. То есть во избежание подобных парадоксов нужно использовать только чётко определённые понятия.
:::

## Сисема Цермело-Френкеля (ZF)

В основе современной теории множеств лежат аксиомы, предложенные Цермело и Френкелем. К ним обычно добавляется так называемая *аксиома выбора*; сформулируем её несколько позже.

::: info Аксиома экстенсиональности
«Множество определяется своими элементами». Это формализуется посредством аксиомы:

$$
\forall X ~ \forall Y ~ ~ ~ (\forall u ~ ~ (u \in X \iff u \in Y) \implies X = Y)
$$
:::

::: info Аксиома существования пустого множества ($\varnothing$)
$$
\exists X ~ \forall u ~ ~ (u \notin X)
$$
:::

::: info Аксиома пары
$$
\forall X ~ \forall Y ~ \exists Z ~ \forall u ~ ~ ~ (u \in Z \leftrightarrow (u = X \lor u = Y))
$$

То есть, если даны $X$ и $Y$, то мы можем получить $Z$, содержащее в точности $X$ и $Y$.
:::

::: info Аксиома выделения
Каждому условию $\Phi$ сопоставляется своя аксиома выделения:

$$
\forall X ~ \exists Y ~ \forall u ~ ~ (u \in Y \leftrightarrow (u \in X \land \Phi(u))).
$$

Она утверждает, что для любого $X$ мы можем образовать множество $Y$ всех $u \in X$, которые удовлетворяют $\Phi(u)$.

Такое $Y$ единственно ввиду Ext.

Будем обозначать его через $\set{u \in X | \Phi(u)}$.
:::

Вместе с тем выражение $\set{u | \Phi(u)}$ может и не задавать множества!

С помощью Sep легко получить следующее:

* для любых $X$ и $Y$ выражения
  $$
  X \cap Y \overset{\text{def}}{=} \set{u ~ | ~ u \in X \land u \in Y}
  $$
  и
  $$
  X ~ \backslash ~ Y \overset{\text{def}}{=} \set{u ~ | ~ u \in X \land u \notin Y}
  $$
  задают множества.

* Для всякого непустого $X$ выражение
  $$
  \cap X \overset{\text{def}}{=} \set{u ~ | ~ u \in v ~~ {\style{font-family:Times}{\text{для всех}}} \!\!\!\!\!\!\! v \in X}
  $$
  задаёт множество.

При этом $X \cap Y$ и $X ~ \backslash ~ Y$ называют **пересечением** $X$ и $Y$ и их **разностью** соответственно, $\cap X$ — **пересечением** $X$. Очевидно, $X \cap Y = \cap \set{X, Y}$.

::: info Аксиома объединения
Эта аксиома позволяет собирать элементы элементов данного множества воедино:

$$
\forall X ~ \exists Y ~ \forall u ~ ~ ~ (u \in Y \leftrightarrow \exists v ~ ~ ( v \in X \land u \in v )).
$$

Таким образом, выражение

$$
\cup X \overset{\text{def}}{=} \set{u ~ | ~ u \in v ~~ {\style{font-family:Times}{\text{для некоторого}}} \!\!\!\!\!\!\!\!\!\!\!\!\! v \in X}
$$

задаёт множество, которое называют **объединением** $X$.
:::

В частности, для любых $X$ и $Y$ под объединением $X$ и $Y$ понимают

$$
X \cup Y \overset{\text{def}}{=} \cup \set{X, Y},
$$

которое совпадает с $\set{u ~ | ~ u \in X \lor u \in Y}$.

Когда $X$ и $Y$ не пересекаются, т. е. $X \cap Y = \varnothing$, вместо $X \cup Y$ иногда пишут $X \sqcup Y$.

::: info Аксиома степени
Эта аксиома позволяет собирать все подмножества данного множества воедино:

$$
\forall X ~ \exists Y ~ \forall u ~ ~ ~ (u \in Y \leftrightarrow u \subset X).
$$

Таким образом, выражение

$$
2^X \overset{\text{def}}{=} \set{u ~ | ~ u \subset X}
$$

задаёт *множество всех подмножеств*, которое называют **множеством-степенью $\boldsymbol{X}$**.
:::

**Прямым (декартовым) произведением** множеств $A$ и $B$ называется множество $\boldsymbol{A \times B}$, состоящее из *упорядоченных пар*, первая компонента компонента которых принадлежит множеству $A$, вторая — множеству $B$.

$$
A \times B \overset{\text{def}}{=} \set{ (a,b) ~ | ~ a \in A \land b \in B }.
$$

$$
A_1 \times A_2 \times \cdots \times A_n = \set{ (a_1, a_2, ..., a_n) ~ | ~ a_i \in A_i, ~ i = 1, 2, ..., n }.
$$

> **Пример.** На рисунке прямоугольник — декартово произведение отрезка $[1; 4]$ на отрезок $[3; 5]$.
> ![](/media/images/funcanalysis_1_7.png)

::: info Аксиома бесконечности
Не вдаваясь в подробности, она гласит «существует множество из бесконечного числа элементов».
:::

::: info Аксиома подстановки
Если для каждого элемента $x$ данного множества $X$ каким-то образом задано множество $f(x)$, то совокупность $\set{ f(x) : x \in X }$ всех так определённых множеств $f(x)$ является множеством.
:::

::: info Аксиома регулярности
В любом непустом множестве $X$ есть элемент $u$, не пересекающийся с $X$:

$$
\forall X ~ ~ (X \ne \varnothing \rightarrow (\exists u \in X : u \cap X = \varnothing)).
$$
:::

Из аксиомы регулярности и аксиомы пары можно вывести следующие два следствия:
* никакое множество не является элементом самого себя;
* не существует бесконечной последовательности множеств, где каждое следующее является элементом предыдущего.

**Пустое множество** $\boldsymbol{\varnothing}$ — множество, не содержащее элементов.

Множество, число элементов которого конечно, называется **конечным**.

**Мощность множества $\boldsymbol{|M|}$** — для конечного множества это количество его элементов.

Для бесконечного определение мощности сложнее.

* Говорят, что два множества имеют **одинаковую мощность**, если существует *взаимно однозначное отображение* одного на другое.
* Говорят, что множество $A$ имеет **бо́льшую мощность**, чем $B$, если существует взаимно однозначное соответствие $A$ на подмножество $B$, а взаимно однозначного отображения $B$ на подмножество $A$ не существует.

Если элементы бесконечного множества можно «пронумеровать» с помощью натурального ряда чисел (то есть построить взаимно однозначное соответствие с множеством $\mathbb{N}$), то оно называется **счётным**, иначе **несчётным**.

Мощность счётного множества обозначается $\aleph_0$ (читается «алеф-ноль»).

> **Пример.** Множество целых чисел счётно:
> $$
> \mathbb{Z} = \set{0, 1, -1, 2, -2, 3, -3, ...} \implies |\mathbb{Z}| = \aleph_0.
> $$

> **Пример.** Множество рациональных чисел счётно:
> ![](/media/images/funcanalysis_1_1.png)
> $$ |\mathbb{Q}| = \aleph_0. $$

> **Пример (Кантор).** Множество вещественных чисел $\mathbb{R}$ *несчётно*.
> ![](/media/images/funcanalysis_1_2.png)
> $$ |\mathbb{R}| = c. $$

Мощность множества вещественных чисел называют словом **«континуум»** и обозначают буквой $c$.

**Булеан** (или **степень**) множества $A$ — множество всех подмножеств множества $A$. Обозначается $2^A$:

$$
2^A = \set{B ~ | ~ B \subseteq A}.
$$

::: info Теорема
Если множество $A$ конечно, то $|2^A| = 2^{|A|}$.
:::

> **Пример.** $A = \set{1, 3, 7}$, $|A| = 3$.
> $$
> 2^A = \set{
    \set{1,3,7}, \set{1,7}, \set{3,7}, \set{1}, \set{3}, \set{7}, \varnothing
};
> $$
>
> $$
> |2^A| = 8 = 2^3.
> $$

::: info Теорема (Кантор)
Для любого (в том числе и бесконечного) множества $A$ *множество $2^A$ имеет бо́льшую мощность, чем множество $A$*.

Другими словами, $A$ можно взаимно однозначно отобразить на подмножество $2^A$, а обратное невозможно.
:::

В частности, можно показать, что

$$
2^{\aleph_0} = c.
$$

А множество всех подмножеств действительной прямой имеет мощность, **бо́льшую, чем континуум**.

::: info Континуум-гипотеза
Любое бесконечное подмножество континуального множества либо счётно, либо имеет мощность континуума.

Другими словами, не существует промежуточной мощности между $\aleph_0$ и $2^{\aleph_0} = c$.
:::

Первые попытки доказательства этого утверждения средствами наивной теории множеств не увенчались успехом, в дальнейшем была показана *невозможность доказать или опровергнуть гипотезу* в аксиоматике Цермело-Френкеля (как с аксиомой выбора, так и без неё).

## Бинарные отношения

Пусть $A$ и $B$ — множества. **Бинарным отношением** из $A$ и $B$ называется любое подмножество прямого произведения $A \times B$.

**Бинарным отношением** на множестве $M$ называется подмножество прямого произведения $M \times M$.

> **Пример.** Пусть $M = \set{1, 2, 3, 4, 5, 6, 7, 8, 9}$. Бинарное отношение $aRb$ = «$a$ делится на $b+2$»:
> * $R = \set{(3,1), (4,2), (5,3), (6,1), (6,4), (7,5), (8,2), (8, 6), (9, 1), (9,7)}$;
> * Его область определения $D(R) = \set{3, 4, 5, 6, 7, 8, 9}$;
> * Область значений $E(R) = \set{1, 2, 3, 4, 5, 6, 7}$.

### Свойства

Бинарное отношение на множестве $M$:

* **рефлексивно**, если $\forall x \in M ~ ~ ~ (x, x) \in R$;

![](/media/images/funcanalysis_1_3.png){.light-only style="width: 15%"}
![](/media/images/funcanalysis_1_3%20dark.png){.dark-only  style="width: 15%"}

* **симметрично**, если $(x,y) \in R \implies (y,x) \in R$;

![](/media/images/funcanalysis_1_4.png){.light-only style="width: 30%"}
![](/media/images/funcanalysis_1_4%20dark.png){.dark-only  style="width: 30%"}

* **антисимметрично**, если $\left((x,y)\in R \land (y,x) \in R\right) \implies (x=y)$;

![](/media/images/funcanalysis_1_5.png){.light-only style="width: 30%"}
![](/media/images/funcanalysis_1_5%20dark.png){.dark-only  style="width: 30%"}

* **транзитивно**, если $\left( (x,y) \in R \land (y,z) \in R \right) \implies (x,z) \in R$.

![](/media/images/funcanalysis_1_6.png){.light-only style="width: 45%"}
![](/media/images/funcanalysis_1_6%20dark.png){.dark-only  style="width: 45%"}

### Отношения эквивалентности, порядка, частично упорядоченные

Рефлексивное, симметричное и транзитивное отношение называется **отношением эквивалентности**. Такие отношение часто обозначают $\sim$.

Отношение эквивалентности на множестве позволяет *разбить его на классы эквивалентных* элементов.

> **Пример.** Множество натуральных чисел $\mathbb{N}$. Пусть $x \sim y$ означает, что $x$ и $y$ имеют одинаковый остаток при делении на 5. *Тогда $\mathbb{N}$ разбивается на 5 классов эквивалентности.*

> **Пример.** Множество прямых на плоскости. Пусть $x \sim y$ означает, что $x$ и $y$ параллельны. *Тогда множество всех прямых разбивается на бесконечное (на самом деле континуальное) количество классов.*

> **Пример.** Множество действительных чисел $\mathbb{R}$. Пусть $x \sim y$ означает, что $x-y \in \mathbb{Q}$. *Тогда $\mathbb{R}$ разбивается на континуальное количество классов.*

Рефлексивное, антисимметричное и транзитивное отношение называется **отношением порядка**. Такое отношение часто обозначают $\boldsymbol{\succcurlyeq}$ или $\boldsymbol{\preccurlyeq}$.

> **Пример.** Множество натуральных чисел $\mathbb{N}$. Пусть $x \succcurlyeq y$ означает, что $x$ делится на $y$ без остатка.

> **Пример.** Множество точек плоскости. Пусть $x \succcurlyeq y$ означает, что расстояние от точки $x$ до точки $(0; 0)$ не меньше, чем расстояние от точки $y$ до $(0; 0)$.

> **Пример.** Множество слов. Пусть $x \succcurlyeq y$ означает, что слово $y$ целиком содержится в слове $x$. Например, *первоклассник* $\succcurlyeq$ *класс*.

Если в множестве выбрано отношение порядка, оно называется **частично упорядоченным**.

> **Пример.** Отношение «делится без остатка» превращает множество натуральных чисел в частично упорядоченное.

Элемент $m$ частично упорядоченного множества $M$ называется **максимальным**, если

$$
\forall a \in M ~ ~ ~ (a \succcurlyeq m \implies a = m).
$$

Если в частично упорядоченном множестве сравнимы любые два элемента, то оно называется **линейно упорядоченным**.

## Функции

Будем говорить, что отношение $R \subseteq X \times Y$ **функционально**, если любому $x \in X$ соответствует не более одного $y \in Y$.

Обозначим

$$
Y^X \overset{\text{def}}{=} \set{
    f \in P(X \times Y) ~ | ~ D(f) =
    X ~ {\style{font-family:Times}{\text{и}}}\! ~ Y ~ {\style{font-family:Times}{\text{функционально}}\!\!\!\!\!\!\!\!\!\!\!}
}.
$$

Элементы $Y^X$ называют **функциями из $\boldsymbol{X}$ в $\boldsymbol{Y}$**; вместо $f \in Y^X$ обычно пишут $f: X \to Y$.

Говорят, что функция $f$ из $X$ в $Y$ является:

* **сюръективной**, если множество значений совпадает с $Y$;
* **инъективной**, если $(f(x_1) = f(x_2)) \implies (x_1 = x_2)$;
* **биективной**, если $f$ сюръективна и инъективна.