---
prev:
    text: 1. Введение. Основные определения, понятия и допущения
    link: ../01
next:
    text: 3. Существование равновесия в чистых стратегиях. Смешанное расширение игры
    link: ../03
---

**Лекция 2**

# Седловые точки в антагонистических играх

<!--На предыдущей лекции было дано определение равновесия по Нэшу.

Два разных выигрыша может быть — то есть у игрока 1 по одному правилу, а у игрока 2 — по другому. -->

Начнём с определения антагонистической игры.


::: info ОПРЕДЕЛЕНИЕ
**Антагонистической игрой** двух лиц в нормальной (стратегической) форме (т. е. с нулевой суммой) называется игра $\Gamma$ такая, что

$$
\Gamma = \langle
    X, ~ Y, ~ H(x, y)
\rangle,
$$

$$
\forall (x,y) \in X \times Y: ~ H_1(x, y) = -H_2(x, y).
$$
:::

Иначе говоря, в антагонистической игре если один игрок выигрывает, то другой проигрывает.

Попробуем разобраться, как формализовать эту историю. Здесь есть очень удобное понятие, которым можно пользоваться — *седловые точки*, которые есть только в антагонистических играх.

Давайте к ним приблизимся. Мы ещё не говорим про матричные игры, пока только про произвольные. Тут $X$ и $Y$ — множества непрерывные, функции $H(x, y)$ тоже какие-то непрерывные. В принципе, $X$ и $Y$ — в основном компакты, но не всегда.

Итак, давайте рассуждать логически. Пусть игрок 1 выбрал стратегию $x$. Что тогда для него будет в худшем случае?

То есть если получается, что для игрока 1 функция выигрыша с плюсом, то значит, игрок 1 стремится к максимуму $H$, а игрок 2 стремится к минимуму.

Что с точки зрения первого игрока происходит? Вот он выбрал какую-то стратегию. Тогда получается, что он не сможет выиграть меньше, чем $\min\limits_{y \in Y} H(x,y)$. То есть получается, что если второй игрок выбрал себе такую стратегию $y$, которая минимизирует при любом $x$ значение $H$, то второй игрок как бы сделал свой выбор, и первый игрок не сможет никак выиграть меньше. Поэтому для того чтобы выиграть<sup>[?]</sup> свой $x$, ему надо из всех минимальных возможных вариантов по $y$ попытаться выбрать максимум. И эта штука называется его *максиминной стратегией*, а величина $\underline{v}$ называется соответственно *нижней ценой* или *нижним значением* игры.

$$
\underline{v} = \max_{x \in X} \min_{y \in Y} H(x, y).
$$

Обратно, с точки зрения второго игрока: он, получается, смотрит на игру с другой стороны. Он выбирает стратегию $y$, и когда он её выбирает, он должен учесть, что первый игрок стремится функцию максимизировать, то есть первый игрок выбирает максимум по $x \in X$ функции $H(x, y)$. И вот с учётом, что первый игрок выбирает максимум, он выбирает такой $x$, который максимизирует, тогда второй игрок из них должен искать себе наименьший возможный, $\min\limits_{y \in Y} \max\limits_{x \in X} H(x, y)$ — эта штука называется *минимаксной стратегией*, а $\overline{v}$ называется *верхней ценой* (или *верхним значением*) игры.

$$
\overline{v} = \min_{y \in Y} \max_{x \in X} H(x, y).
$$

Вообще говоря, когда пишут в общем случае, то максимум и минимум ведь может строго не достигаться на множестве $X$, поэтому надо писать вот так:

$$
\underline{v} = \sup_{x \in X} \inf_{y \in Y} H(x, y)
$$

$$
\overline{v} = \inf_{y \in Y} \sup_{x \in X} H(x, y)
$$

Теперь давайте посмотрим на наше определение равновесия Нэша. Там у нас две функции выигрыша, и получается, что раз у нас функция выигрыша одна, то тогда можно сказать следующее: 

::: info ОПРЕДЕЛЕНИЕ (СЕДЛОВОЙ ТОЧКИ)
**Седловой точкой** называется исход $(x^*, y^*) \in X \times Y$ такой, что

$$
H(x, y^*) \le H(x^*, y^*) \le H(x^*, y).
$$
:::

Ну, то есть, это то же самое, что равновесие Нэша, то есть ничего нового мы не вводим, просто из-за того, что $H_1 = -H_2$, то можно всё это свести в одну цепь неравенств и свести к более простым вещам. И поскольку это одна и та же функция, то, на самом деле, это есть определение обычной седловой точки. То есть если геометрически изобразить, то это и есть седло (две параболы, которые пересекаются в одной точке). В этом смысл седловой точки: один ищет у этой функции максимум, а другой — минимум, и им надо выбрать такие $x$ и $y$, чтобы всех это удовлетворило, и получается, что это происходит как раз в этой седловой точке.

::: info ЗАМЕЧАНИЕ
Если $X$ и $Y$ — компактные, и минимум и максимум там достигается внутри, то верно следующее равенство:

$$
\max_{x \in X} H(x, y^*) = H(x^*, y^*) = \min_{y \in Y} H(x^*, y).
$$
:::

Седловая точка может быть не одна: их может быть сколько угодно. Но надо понимать, что если посмотреть на это определение, то это такая *глобальная* седловая точка, то есть она же для всех $x$ и всех $y$. Например, могут быть какие-то локальные седловые точки.

На этот счёт есть лемма.

:::: info ЛЕММА
Пусть $(x^*_1, y^*_1)$ и $(x^*_2, y^*_2)$ — седловые точки функции $H(x, y)$. Тогда в них функция выигрыша имеет одинаковое значение:

$$
H(x^*_1, y^*_1) = H(x^*_2, y^*_2).
$$

*Эта лемма утверждает, что сколько бы седловых точек не было, всё равно будет одно и то же значение функции выигрыша.*

::: info Доказательство
Рассмотрим седловую точку $(x^*_1, y^*_1)$. Можно сказать, что для неё

$$
H(x^*_1, y^*_1) \le H(x^*_1, y^*_2)
$$

(согласно определению седловой точки).

С другой стороны, для неё выполняется неравенство (из определения седловой точки)

$$
H(x, y^*_1) \le H(x^*_1, y^*_1) \le H(x^*_1, y)
$$

или, если взять $(x, y) = (x^*_2, y^*_2)$,

$$
H(x^*_2, y^*_1) \le H(x^*_1, y^*_1) \le H(x^*_1, y^*_2).
$$

Если подобное написать для второй седловой точки $(x^*_2, y^*_2)$ и взять $(x, y) = (x^*_1, y^*_1)$:

$$
H(x^*_1, y^*_2) \le H(x^*_2, y^*_2) \le H(x^*_2, y^*_1)
$$

то, объединив с предыдущим неравенством, можно получить следующее:

$$
H(x^*_2, y^*_1) \le H(x^*_1, y^*_1) \le H(x^*_1, y^*_2) \le H(x^*_2, y^*_2) \le H(x^*_2, y^*_1).
$$

Эта цепочка неравенств может выполняться только в случае равенства значений функции выгрыша в обеих седловых точках. Таким образом получается, что

$$
H(x^*_1, y^*_1) = H(x^*_2, y^*_2).
$$

Лемма доказана.
:::

::::

Запишем следующие определения.

::: info ОПРЕДЕЛЕНИЕ
Величина $v = H(x^*, y^*)$, соответствующая седловой точке $(x^*, y^*)$ в антагонистической игре, называется **ценой игры**.
:::

::: info ОПРЕДЕЛЕНИЕ
Антагонистическая игра имеет решение
$$
\left(x^*, y^*, v = H(x^*, y^*)\right),
$$

если $H(x, y)$ имеет седловую точку на $X \times Y$. 
:::

Будем считать, что мы на какое-то время забыли про всякие непрерывные множества $X$ и $Y$ и всё-таки перейдём к матричным играм, которыми мы всё это время на самом деле занимаемся на практических занятиях.

::: info ОПРЕДЕЛЕНИЕ
Если $X$ и $Y$ — конечные множества, то $\Gamma$ называется **матричной игрой**.
:::

Почему матричной? Ну потому что если $X$ и $Y$ — это конечные множества, то можно, например, множеству $X$ поставить во взаимно-однозначное соответствие некое упорядоченное множество $N = \set{ 1, 2, ..., n }$. Аналогично с $Y$.

$$
\begin{matrix}
X \longleftrightarrow N = \set{ 1, 2, ..., n }, \\
Y \longleftrightarrow M = \set{ 1, 2, ..., m }.
\end{matrix}
$$

Стало быть, какой-то стратегии $(x, y) \in X \times Y$ можно сопоставить просто пару индексов $(i, j) \in N \times M$:

$$
(x, y) \in X \times Y \longleftrightarrow (i, j) \in N \times M.
$$

Ну а раз можно сопоставить пару индексов, то, соответственно, *функции выигрыша* (или *платёжной функции*) $H(x, y)$ можно сопоставить *матрицу выигрышей* (или *платёжную матрицу*) $H = \set{h_{ij}}$:

$$
H(x, y) \longleftrightarrow H = \set{h_{ij}}.
$$

По сути, просто непрерывная задача сводится к дискретной, и это позволяет делать более простые выводы.

В частности, рассмотрим пример.

::: info ПРИМЕР
Рассмотрим платёжную матрицу $H = \begin{bmatrix}
0 & 0 \\ 0 & 1
\end{bmatrix}$.

То есть, если иксы соответствуют $i$, то, стало быть, это строки, а игреки соответствуют $j$, то, стало быть, это столбцы. То есть первый игрок выбирает строку, а второй — столбец, и то, что на их пересечении — это и есть выигрыш (для второго — с минусом).

Давайте рассмотрим эту матрицу с точки зрения первого игрока. Когда первый выбирает себе стратегию, то он может быть себе либо $(0, 0)$ либо $(0, 1)$. Если он использует свою максиминную стратегию, то тогда он должен выбирать наибольшее значение из наименьших в каждой строке. В каждой строке наименьшее значение — ноль, поэтому нижняя цена игры $\underline{v} = \max\set{0, 0} = 0$.

А второй игрок выбирает, соответственно, столбец. И он смотрит, на что будет в худшем варианте, но худший вариант для него — не минимум, а максимум. То есть если он выбирает $\begin{pmatrix} 0 \\ 1 \end{pmatrix}$, то он может проиграть единицу, а если $\begin{pmatrix} 0 \\ 0 \end{pmatrix}$, то он может проиграть ноль. Ему хорошо выбирать ноль, поэтому верхняя цена игры тоже ноль: $\overline{v} = \min\set{ 0, 1 } = 0$.

Получается, первому игроку всё равно, какую стратегию использовать, то есть его выигрышные стратегии — это и $(0, 0)$ и $(0, 1)$. А вот второй игрок будет выбирать только $\begin{pmatrix} 0 \\ 0 \end{pmatrix}$. Поэтому получается, что множество оптимальных решений является декартовым произведением этих выигрышных стратегий, и у нас будут следующие стратегии: $(1,1)$ и $(2, 1)$. То есть это две седловые точки. У них у обеих нижнее и верхнее значения игры совпадают, соответственно, есть седловая точка.
:::

::: info ПРИМЕР 2
Рассмотрим платёжную матрицу $H = \begin{bmatrix}
-1 & 1 \\ 1 & -1
\end{bmatrix}$.

Давайте посмотрим с точки зрения цены игры. Первый игрок выбирает между $(-1, 1)$ и $(1, -1)$ то, где он может меньше всего проиграть. Проиграть везде он может одинаково ($-1$). Нижняя цена игры $\underline{v} = -1$.

Второй игрок выбирает между $\begin{pmatrix} -1 \\ 1 \end{pmatrix}$ и $\begin{pmatrix} 1 \\ -1 \end{pmatrix}$ то, где он может получить наименьший проигрыш, в обоих случаях одинаково ($1$). Верхняя цена игры $\overline{v} = 1$.

Иными словами, здесь нет такой точки, которая была бы наибольшей по $x$ и наименьшей по $y$, то есть седловой точки нет.
:::

Переопределим определения нижней и верхней цен игры для матрицы:

$$
\begin{matrix}
\underline{v} = \max\limits_{1 \le i \le n} \min\limits_{1 \le j \le m} h_{ij}, \\
\overline{v} = \min\limits_{1 \le j \le m} \max\limits_{1 \le i \le n} h_{ij}.
\end{matrix}
$$

::: info ПРИМЕР 3
Рассмотрим платёжную матрицу $H = \begin{bmatrix}
1 & 0 & 4 \\ 5 & 3 & 8 \\ 6 & 0 & 1
\end{bmatrix}$.

Мы сейчас формализовали определения нижней и верхней цен игры. Давайте их применим.

Найдём нижнюю цену игры. Сначала мы ищем минимум по $j$: в первой строке это $0$, во второй — $3$, в третьей — $0$. Из них выбираем максимум: $\underline{v} = \max\set{0, 3, 0} = 3$, и для второго игрока оптимальная стратегия — вторая.

А второй игрок сначала будет смотреть максимальный элемент по соответствующим столбцам, как следует из определения: в первом столбце это $6$, во втором — $3$, в третьем — $8$. То есть $8$ и $6$ для него — плохие истории, это большой проигрыш, поэтому ему нравится $3$. Он выбирает, верхняя цена игры, получается, равна $3$: $\overline{v} = \min\set{ 6, 3, 8 } = 3$, его выигрышная стратегия — минимаксная, и она тоже вторая.

Поэтому получается, что у нас, во-первых, существует седловая точка, и эта седловая точка есть $(2, 2)$.
:::