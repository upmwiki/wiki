---
prev:
    text: 2. Седловые точки в антагонистических играх
    link: ../02
next: false
---

**Лекция 3**

# Существование равновесия в чистых стратегиях. Смешанное расширение игры

<p>
   <Badge type="info">Не завершено</Badge>
</p>

Сегодня наша задача — закончить антагонистические игры и, возможно, начать смешанные стратегии.

## Существование равновесия в чистых стратегиях

Начнём с доказательства леммы об основном неравенстве минимакса.

:::: info ЛЕММА (ОБ ОСНОВНОМ НЕРАВЕНСТВЕ МИНИМАКСА)
В любой антагонистической игре нижняя цена игры не больше верхней цены игры:

$$\underline{v} \le \overline{v}$$

или, что то же самое,

$$
\sup_{x \in X} \inf_{y \in Y} H(x, y) \le \inf_{y \in Y} \sup_{x \in X} H(x, y).
$$

*Про существование седловой точки это ничего не говорит.*

::: info Доказательство
Пусть у нас есть некая функция $H(x, y)$ и пусть $x \in X$ — некая произвольная стратегия первого игрока.

Про эту стратегию $x$ можно сказать следующее: для неё значение функции выигрыша не превышает соответствующий супремум по $x$:

$$
H(x, y) \le \sup\limits_{x \in X} H(x, y).
$$

В свою очередь,

$$
\inf\limits_{y \in Y} H(x, y) \le \inf\limits_{y \in Y} \underbrace{\sup\limits_{x \in X} H(x, y)}_\text{const} = \overline{v},
$$

а также, с другой стороны,

$$
\underline{v} = \sup\limits_{x \in X} \underbrace{ \inf\limits_{y \in Y} H(x, y) }_\text{const} \le \inf\limits_{y \in Y} H(x, y).
$$

Таким образом,

$$
\sup\limits_{x \in X} \inf\limits_{y \in Y} H(x, y) \le \inf\limits_{y \in Y} \sup\limits_{x \in X} H(x, y)
$$

или, согласно определениям нижней и верхней цен игры,

$$
\underline{v} \le \overline{v}.
$$

Лемма доказана.

:::

::::

Пусть $Z(\Gamma) \subset X \times Y$ — множество ситуаций равновесия (в антагонистической игре это просто множество седловых точек, если они существуют). Для матричной игры $Z$ — множество седловых точек.

:::: info ЛЕММА (О МАСШТАБЕ)
Пусть $\Gamma = \langle X, ~ Y, ~ H \rangle$ и $\Gamma' = \langle X, ~ Y, ~ H' \rangle$ — две антагонистические игры, причём $H' = \beta \cdot H + \alpha$, где $\alpha, \beta = \text{const}$, $\beta > 0$. Тогда $Z(\Gamma') = Z(\Gamma)$, $v_{\Gamma'} = \beta v_\Gamma + \alpha$.

::: info Доказательство

Надо доказать, что если любая седловая точка является ситуаций равновесия в игре $\Gamma$, то она — ситуация равновесия и в игре $\Gamma'$, и наоборот.

1. Пусть $(x^*, y^*)$ — ситуация равновесия в игре $\Gamma$, т. е. $(x^*, y^*) \in Z(\Gamma)$. Тогда

   $$
   H(x, y^*) \le H(x^*, y^*) \le H(x^*, y).
   $$

   Умножим неравенство на $\beta$:
   
   $$
   \beta H(x, y^*) \le H(x^*, y^*) \le H(x^*, y).
   $$

   Поскольку $\beta > 0$, то знаки не меняются.

   Прибавим к неравенству $\alpha$:

   $$
   \beta H(x, y^*) + \alpha \le H(x^*, y^*) + \alpha \le H(x^*, y) + \alpha.
   $$

   По условию получаем, что это неравенство эквивалентно следующему:

   $$
   H'(x, y^*) \le H'(x^*, y^*) \le H'(x^*, y).
   $$

2. Пусть $(x^*, y^*) \in Z(\Gamma')$. Тогда

   $$
   H'(x, y^*) \le H'(x^*, y^*) \le H'(x^*, y).
   $$

   Можно сказать, что

   $$
   H(x^*, y^*) = {1 \over \beta} H'(x^*, y^*) - {\alpha \over \beta},
   \tag{∗}
   $$

   поскольку из $H' = \beta H + \alpha$ следует, что $H = {1 \over \beta} H' - {\alpha \over \beta}$.

   Умножим неравенство выше на ${1 \over \beta}$:

   $$
   {1 \over \beta} H'(x, y^*) \le {1 \over \beta} H'(x^*, y^*) \le H'(x^*, y).
   $$

   Поскольку ${1 \over \beta} > 0$, то знак при умножении не изменится.

   Вычтем из неравенства ${\alpha \over \beta}$:

   $$
   {1 \over \beta} H'(x, y^*) - {\alpha \over \beta} \le {1 \over \beta} H'(x^*, y^*) - {\alpha \over \beta} \le H'(x^*, y) - {\alpha \over \beta}.
   $$

   Согласно $(∗)$ получаем, что данное неравенство эквивалентно следующему:

   $$
   H(x, y^*) \le H(x^*, y^*) \le H(x^*, y).
   $$

Лемма доказана.
:::
::::

Данная лемма говорит о том, что две игры $\Gamma$ и $\Gamma'$ стратегически эквивалентны в том плане, что и там и там будут одинаковые выигрышные стратегии, независимо от того, в каких единицах вы измеряете выигрыш. Главное, чтобы всё было умножено на одно число, и неважно, какое начало отсчёта у этих выигрышей. То есть матричную игру можно умножить на любое число или прибавить ко всем её элементам одинаковое число — выигрышные стратегии от этого не меняются, потому что эти преобразования сохраняют соотношения между соответствующими $H$.

А теперь основная теорема.

:::: info ТЕОРЕМА (О СУЩЕСТВОВАНИИ РАВНОВЕСИЯ В ЧИСТЫХ СТРАТЕГИЯХ)
Для того, чтобы в игре $\Gamma = \langle X, ~ Y, ~ H \rangle$ существовала ситуация равновесия, необходимо и достаточно, чтобы существовали минимакс и максимин, и нижняя цена игры $\underline{v} = \sup\limits_{x \in X} \inf\limits_{y \in Y} H(x, y)$ была равна

$$
\underline{v} = \sup_{x \in X} \inf_{y \in Y} H(x, y) = \inf_{y \in Y} \sup_{x \in X} H(x, y) = \overline{v}.
$$

*Иначе говоря, для того чтобы была ситуация равновесия (например, седловая точка в матричной игре), нужно, чтобы существовал минимакс и максимин (т. е. существовали нижняя и верхняя цены игры), и они должны быть равны друг другу. Тогда имеется точка равновесия в чистых стратегиях, т. е. такое решение, которого ни одному из игроков в одностороннем порядке не выгодно отклоняться. И наоборот.*

::: info Доказательство

1. *Доказательство необходимости.* Пусть $(x^*, y^*) \in Z(\Gamma)$ — ситуация равновесия. Тогда, по определению,

   $$
   H(x, y^*) \le H(x^*, y^*) \le H(x^*, y).
   $$

   Левая часть неравенства эквивалентна следующему:

   $$
   \sup\limits_{x \in X} H(x, y^*) = H(x^*, y^*),
   $$

   то есть если есть такая $x^*$, что она кроет все ваши другие иксы, то тогда точная верхняя грань этой штуки будет равна $H(x^*, y^*)$.

   Но в то же время если это так, то тогда если возьмём от супремума инфинум по $y$, то:

   $$
   \inf_{y \in Y} \sup_{x \in X} H(x, y^*) \le \sup_{x \in X} H(x, y^*),
   $$

   а $\inf\limits_{y \in Y} \sup\limits_{x \in X} H(x, y^*) = \overline{v}$, т. е. получаем, что

   $$
   \overline{v} \le H(x^*, y^*).
   $$

   С другой стороны (по похожей логике, рассматривая правую часть неравенства),

   $$
   H(x^*, y^*) = \inf_{y \in Y} H(x^*, y) \le \sup_{x \in X} \inf_{y \in Y} H(x^*, y) = \underline{v}.
   $$

   Таким образом мы получили, что $\overline{v} \le \underline{v}$. Но, согласно лемме об основном неравенстве минимакса, $\overline{v} \ge \underline{v}$. Следовательно,

   $$
   \overline{v} = \underline{v}.
   $$

2. *Доказательство достаточности.* Надо доказать, что если существуют минимакс и максимин и выполняется равенство $\overline{v} = \underline{v}$, то из этого следует, что существует ситуация равновесия.

   Пусть существует некая точка $(x^*, y^*)$. Можно сказать, что

   $$
   H(x^*, y^*) = \inf_{y \in Y} H(x^*, y).
   $$

   Но у нас не только по условию это неравенство выполняется, у нас существует минимакс и максимин, а значит, что если $(x^*, y^*)$ — это то, что соответствует минимаксу или максимину, то тогда это будет равно

   $$
   H(x^*, y^*) = \inf_{y \in Y} H(x^*, y) \ge \sup_{x \in X} \inf_{y \in Y} H(x, y).
   $$

[36:21]

---

2. $(\impliedby)$ Некая точка $(x^*, y^*)$.

   $$
   H(x^*, y) \ge \inf_{y \in Y} H(x, y^*) = \sup_{x \in X} \inf_{y \in Y} H(x, y).
   $$

   $y^*$ - минимаксная стратегия.

   $$
   H(x, y^*) \le \sup_{x \in X} H(x, y^*) = \inf_{y \in Y} \sup_{x \in X} H(x, y).
   $$

   $$
   H(x, y^*) \le H(x^*, y^*) \le H(x^*, y)
   $$

   $$
   \implies (x^*, y^*) \in Z(\Gamma).
   $$

Теорема полностью доказана.
:::

::::

## Смешанное расширение игры

$$
\underline{v} = \inf_y \sup_x H(x, y) < \sup_x \inf_y H(x, y) = \overline{v} \implies \overline{v} - \underline{v} > 0.
$$

::: info ПРИМЕР
Рассмотрим матрицу
$$
H = \begin{bmatrix}
7 & 3 \\ 2 & 5
\end{bmatrix}.
$$

Для неё $\underline{v} = 3$, $\overline{v} = 5$, то есть седловая точка отсутствует.
:::

::: info ОПРЕДЕЛЕНИЕ
Случайная величина, значениями которой являются (чистые) стратегии игрока, называется его **смешанной стратегией**.
:::

$$
\vec{X}_m = [p_1, p_2, ..., p_n],
$$

если $|X| = n$.

$$
\forall y: ~ E[H(x, y)] = p_1 \cdot H(x_1, y) + p_2 \cdot H(x_2, y) + \dots + p_n \cdot H(x_n, y).
$$